---
import Layout from '../../layouts/Layout.astro';
import Hero from '../../components/Hero.astro';
import QuoteSection from '../../components/QuoteSection/index.astro';
import LocationContent from '../../components/locations/LocationContent.astro';
import ContactForm from '../../components/ContactForm.astro';
import CTASection from '../../components/CTASection.astro';

const { location } = Astro.params;
const phone = "1-234-567-8900";

// Convert URL-friendly format back to display format
const locationName = location
  .split('-')
  .map(word => word.charAt(0).toUpperCase() + word.slice(1))
  .join(' ');

export async function getStaticPaths() {
  const locations = [
    "Reading", "Wyomissing", "Kutztown", "Hamburg", "Leesport",
    "Sinking Spring", "Fleetwood", "Boyertown", "Birdsboro", "West Reading",
    "Shillington", "Oley", "Wernersville", "Douglassville", "Bernville",
    "Temple", "Mohnton", "Robesonia", "West Lawn", "Bethel",
    "Mount Penn", "Womelsdorf", "Morgantown", "Shoemakersville", "Blandon",
    "Laureldale", "Topton", "Lenhartsville", "Bally", "Centerport",
    "Bechtelsville", "Shartlesville", "Mertztown", "Kempton", "Strausstown",
    "Maxatawny", "Flying Hills", "Kenhorst", "Saint Lawrence", "Virginville",
    "Mohrsville", "Lyons", "Reiffton", "Pennside", "Rehrersburg",
    "New Jerusalem", "Jacksonwald", "Gouglersville", "New Morgan", "Dryville",
    "Dauberville"
  ];

  return locations.map(location => ({
    params: { location: location.toLowerCase().replace(/\s+/g, '-') }
  }));
}
---

<Layout
  title={`HVAC Services in ${locationName}, PA`}
  description={`Professional HVAC services in ${locationName}, PA. Expert heating and cooling solutions including installation, repair, and maintenance.`}
>
  <Hero
    title={`HVAC Services in ${locationName}, PA`}
    description="Expert Heating and Cooling Solutions for Your Home or Business"
    image="https://github.com/NathanWiemann/HVAC-Website/blob/master/public/images/hero-hvac-technicians.jpg?raw=true"
  />

  <QuoteSection phone={phone} />

  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <LocationContent name={locationName} phone={phone} />
    
    <ContactForm 
      title={`Schedule HVAC Service in ${locationName}`}
      subtitle="Get Expert Solutions for Your Comfort Needs"
      phone={phone}
    />
    
    <CTASection
      title={`Your Trusted HVAC Provider in ${locationName}`}
      description="Contact us today for professional heating and cooling services!"
      buttonText="Schedule Service"
      buttonLink="/contact"
    />
  </div>
</Layout>